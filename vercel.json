{
  "version": 2,
  "projectSettings": {
    "sourceFilesOutsideRootDirectory": true
  },
  "buildCommand": "npm run build",
  "devCommand": "npm run dev:all",
  "framework": "vite",
  "env": {
    "SUPABASE_URL": {
      "description": "Supabase project URL"
    },
    "SUPABASE_ANON_KEY": {
      "description": "Supabase anonymous key"
    },
    "SUPABASE_SERVICE_KEY": {
      "description": "Supabase service role key (for backend only)"
    },
    "MICROSOFT_CLIENT_ID": {
      "description": "Microsoft Azure AD client ID"
    },
    "MICROSOFT_CLIENT_SECRET": {
      "description": "Microsoft Azure AD client secret"
    },
    "MICROSOFT_CALLBACK_URL": {
      "description": "OAuth callback URL (https://your-domain.vercel.app/auth/callback)"
    },
    "SESSION_SECRET": {
      "description": "Session secret for express-session"
    },
    "FIREFLIES_API_KEY": {
      "description": "Fireflies.ai API key"
    },
    "ANTHROPIC_API_KEY": {
      "description": "Anthropic Claude API key"
    },
    "CLICKUP_API_KEY": {
      "description": "ClickUp API key"
    }
  },
  "rewrites": [
    {
      "source": "/api/(.*)",
      "destination": "/api/$1"
    },
    {
      "source": "/auth/(.*)",
      "destination": "/auth/$1"
    },
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ],
  "routes": [
    {
      "src": "/health",
      "dest": "/api/health.ts",
      "methods": ["GET"]
    },
    {
      "src": "/api/auth/microsoft",
      "dest": "/api/auth/microsoft.ts",
      "methods": ["GET"]
    },
    {
      "src": "/api/auth/callback",
      "dest": "/api/auth/callback.ts",
      "methods": ["GET", "POST"]
    },
    {
      "src": "/api/auth/user",
      "dest": "/api/auth/user.ts",
      "methods": ["GET", "POST"]
    },
    {
      "src": "/api/meetings/list",
      "dest": "/api/meetings/list.ts",
      "methods": ["GET"]
    },
    {
      "src": "/api/meetings/process",
      "dest": "/api/meetings/process.ts",
      "methods": ["POST"]
    },
    {
      "src": "/api/tasks/list",
      "dest": "/api/tasks/list.ts",
      "methods": ["GET"]
    },
    {
      "src": "/api/tasks/create",
      "dest": "/api/tasks/create.ts",
      "methods": ["POST"]
    }
  ],
  "functions": {
    "api/**/*.ts": {
      "memory": 1024,
      "maxDuration": 60
    }
  }
}
